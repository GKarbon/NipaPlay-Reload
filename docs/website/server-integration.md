# 媒体服务器整合（Emby/Jellyfin）

## 连接前准备

### 媒体库要求

NipaPlay 对媒体库类型有特定要求：

**✅ 支持的媒体库类型**：

- 电影媒体库（Movies）
- 剧集媒体库（TV Shows）

**❌ 不支持的媒体库类型**：

- 混合媒体库（Mixed Content）
- 文件夹类型的媒体库
- 其他自定义类型

**建议配置**：

- 在服务器端创建独立的电影和剧集媒体库
- 确保媒体文件有良好的刮削信息（海报、元数据、演员信息等）
- 避免将不同类型的媒体混合在同一个库中

### 性能考虑

**大型媒体库注意事项**：

- 媒体数量过于庞大（如上万个媒体）时，初次连接选择媒体库可能会出现加载缓慢
- 这是正常现象，耐心等待初次加载完成
- 后续访问会使用本地缓存，速度会明显提升

## 连接步骤

1. **打开设置**：设置 → 远程媒体库
2. **输入服务器信息**：
   - 服务器地址（IP:端口 或 域名）
   - 用户名和密码
   - 如使用 HTTPS，确保地址以 https:// 开头
3. **保存配置**：点击保存并等待连接验证
4. **选择媒体库**：连接成功后选择要同步的媒体库
5. **开始使用**：返回媒体库界面查看服务器内容

## 常见连接问题

### 连接失败

**检查项目**：

- 服务器地址和端口是否正确
- 网络连通性（同一局域网/公网访问）
- 用户名和密码是否准确
- 服务器是否正常运行

### 403 Forbidden 错误

**原因**：服务器管理员配置了客户端访问限制

**解决方案**：

- 联系服务器管理员
- 请求将 NipaPlay 加入客户端白名单
- 确认是否有特定的客户端标识要求

**注意**：此问题无法通过客户端设置解决，需要服务器端配合。

### 认证问题

**症状**：提示用户名或密码错误

**解决方案**：

- 确认服务器端账户信息
- 检查账户是否有媒体库访问权限
- 尝试在服务器端重置密码

### 播放异常

**问题**：能连接但无法播放内容

**解决方案**：

- 尝试切换播放器内核（Libmpv/MDK/Video Player）
- 检查服务器转码设置
- 确认网络带宽是否足够

---

**⬅️ 上一篇: [使用指南](user-guide.md)** | **➡️ 下一篇: [高级设置](settings.md)**
